<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapeamento de Processos</title>
    <link rel="stylesheet" href="../css/mapeamento.css">
    <link rel="icon" href="../assets/Prefeitura_de_Sao_Paulo-logo-B6023596B5-seeklogo.com.png">
    <!-- Link para o CSS do Select2 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
    <!-- Script do Select2 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
</head>
<body>
    <!-- Navbar (Barra Superior) -->
    <header class="navbar">
        <div class="logo-container">
            <a href="https://www.prefeitura.sp.gov.br/cidade/secretarias/controladoria_geral/a_cgm/index.php?p=332358" target="_blank">
                <img src="../assets/CONTROLADORIA_GERAL_DO_MUNIC√çPIO_HORIZONTAL_FUNDO_ESCURO.png" alt="Logo da Controladoria Geral do Munic√≠pio">
            </a>
        </div>
        <nav class="navbar-links">
            <a href="https://www.prefeitura.sp.gov.br/cidade/secretarias/upload/controladoria_geral/GuiaOrientativosobreaPrivacidadeeaProtecaodeDadosPessoaisparaaAdministracaoPublicadoMunicipiodeSaoPaulo_publicacao_26_01_2023.pdf" target="_blank" class="link-button">Guia sobre Privacidade e Prote√ß√£o de Dados Pessoais</a>
            <a href="https://www.prefeitura.sp.gov.br/cidade/secretarias/upload/controladoria_geral/GuiaOrientativosobreaInstrucaoNormativaCGM-SPn%C2%BA01-2022paraaAdministracaoPublicadoMunicipiodeSaoPaulo_publicacao_26_01_2023.pdf" target="_blank" class="link-button">Guia sobre Instru√ß√£o Normativa CGM-SP n¬∫01-2022</a>
        </nav>
    </header>

    <!-- Conte√∫do Principal -->
    <div class="mapeamento-container">
        <form id="mapeamentoForm">
            <h2>Gest√£o de Etapas e Subetapas</h2>

            <!-- Instru√ß√£o Geral -->
            <p>Utilize este formul√°rio para estruturar as etapas e subetapas do seu processo. Siga as instru√ß√µes abaixo para criar novas etapas e subetapas, al√©m de atrelar etapas j√° existentes conforme necess√°rio.</p>

            <!-- Campo de Cria√ß√£o de Etapa -->
            <div>
                <p>Para criar uma nova etapa, insira o nome desejado no campo abaixo e clique em "Criar Etapa". As etapas s√£o o n√≠vel mais alto da estrutura hier√°rquica do processo.</p>
                <input type="text" id="stepName" placeholder="Nome da Etapa">
                <button id="createStepBtn" class="btn">Criar Etapa</button>
            </div>

            <!-- Campo de Cria√ß√£o de Subetapa -->
            <div>
                <p>Para adicionar uma subetapa, insira o nome no campo "Nome da Subetapa" e selecione a etapa √† qual ela pertence. Em seguida, clique em "Criar Subetapa". As subetapas detalham processos espec√≠ficos dentro de cada etapa.</p>
                <input type="text" id="substepName" placeholder="Nome da Subetapa">
                <select id="stepSelector">
                    <option value="">Selecione uma Etapa para Atrelar</option>
                </select>
                <button id="createSubstepBtn" class="btn">Criar Subetapa</button>
            </div>

            <!-- Campo de Cria√ß√£o de Etapa Atrelada -->
            <div>
                <p>Para atrelar uma nova etapa ou subetapa a uma j√° existente, insira o nome no campo abaixo e selecione a etapa/subetapa onde ela ser√° inserida. Depois, clique em "Criar Etapa Atrelada". Isso ajuda a relacionar diferentes partes do processo.</p>
                <label for="linkToSelector">Atrelar a uma Etapa/Subetapa existente:</label>
                <select id="linkToSelector">
                    <option value="">N√£o Atrelar</option>
                </select>
                <button id="createLinkedStepBtn" class="btn">Criar Etapa Atrelada</button>
            </div>

            <!-- Bot√£o de Salvar e Seguir -->
            <div>
                <p>Ao concluir a organiza√ß√£o das etapas e subetapas, clique no bot√£o abaixo para salvar todas as informa√ß√µes e seguir para a pr√≥xima p√°gina, onde voc√™ poder√° baixar o arquivo Excel com os dados preenchidos.</p>
                <button id="saveAndNextButton" class="btn">Salvar Respostas e Seguir para Download</button>
            </div>

            <!-- Estrutura das Etapas e Subetapas -->
            <h3>Estrutura de Etapas e Subetapas</h3>
            <p>Abaixo voc√™ pode visualizar a estrutura completa das etapas e subetapas criadas. As informa√ß√µes s√£o exibidas hierarquicamente para facilitar o entendimento da organiza√ß√£o do processo.</p>
            <ul id="stepsTree" class="steps-tree"></ul>

            <!-- Barra Flutuante -->
            <div class="floating-bar">
                <button id="scrollToTopButton" class="btn-floating">Voltar ao Topo</button>
                <select id="scrollToStepSelector" class="btn-floating">
                    <option value="">Selecione uma Etapa/Subetapa</option>
                </select>
            </div>                             
        </form>
    </div>

    <!-- Footer (Rodap√©) -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-info">
                <div class="footer-logo">
                    <img src="../assets/CONTROLADORIA_GERAL_DO_MUNIC√çPIO_HORIZONTAL_FUNDO_ESCURO.png" alt="Logo da Controladoria Geral do Munic√≠pio">
                </div>
                <p>CGM ‚Äì Controladoria Geral do Munic√≠pio</p>
                <p>CPD ‚Äì Controladoria Geral de Prote√ß√£o de Dados Pessoais</p>
                <p>Viaduto do Ch√°, 15, 10¬∫ andar ‚Äì Centro Telef√¥nico: (11) 3113‚Äì8234</p>
            </div>
            <div class="footer-contacts">
                <p>Contatos</p>
                <p>üìû 156</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p style="color: white;">Prefeitura Municipal de S√£o Paulo - Lei Geral de Prote√ß√£o de Dados Pessoais</p>
        </div>
    </footer>

    <script src="../js/mapeamento.js"></script>
</body>
</html>
